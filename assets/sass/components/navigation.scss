/* ==========================================================
 * navigation.scss
 * Navgiation element styles
 *
 * Author: Yann Gouffon, yann@antistatique.net
 * Date:   2014-04-28 17:17:40
 *
 * Copyright 2014 Federal Chancellery of Switzerland
 * Licensed under MIT
 =========================================================== */

 @charset "UTF-8";

nav {
  ul {
    padding: 0;
    margin: 0;
  }
  li {display: inline;}
  li:first-child {margin-left: 0;}
}

/*doc
---
title: Global Navigation
name: a-globalnavigation
category: Navigation modules - Hierarchical Navigation
---

<span class="label label-admin">FIX</span>

The global navigation shows the main points of access to a website as tabs. It is separated from the header above by a red line. The terminology used for the tabs should be chosen carefully, as this is what gives the user the first impression of the purpose of the website.

Behavior:
Clicking on a tab opens a mega flyout with a menu showing the sub-pages. The background is darkened.

There are two obligatory flyout types: the teaser and the list flyout. In the teaser flyout, the second navigation level, and in the list flyout the second and third navigation levels can be selected directly. This makes it possible to skip navigation nodes for which there are no contents.

It is also possible to develop and use new flyout types. For instance, a country selection flyout was developed for the EDA.

The flyout can be closed again by clicking on the “close” function at the top right, the tab at the bottom edge, by clicking on the background, or by clicking on the active tab again.

Only on the home page are all the tabs closed. If the user navigates in the area below a tab, this tab remains actively selected.

A flyout can contain a teaser, which consists of a linked heading, an image, and a descriptive text (max. 70 characters including spaces).

Add `<div class="overlay"></div>` at the end of the `body` tag to display the gray overlay.

<br>
<div class="alert alert-warning">
  **2.1.0:**

  - added the `.nav-mobile` section to the beginning of the `.list-group` element

**2.1.1:**

  - changed `.active` class to `.current` for current page highlight in the menu
</div>

```html_example
<!-- Use normal `container` instead of `container-fluid` -->
<div class="container-fluid">
  <header>

  </header>
  <nav class="nav-main yamm navbar" role="navigation">

    <!-- Mobile Navigation (hidden on desktop) -->
    <section class="nav-mobile">
      <div class="table-row">
        <div class="nav-mobile-header">
          <div class="table-row">
            <span class="nav-mobile-logo"><img src="img/swiss.svg" alt="Confederatio Helvetica"></span>
            <h1><a href="#">Main Title</a></h1>
          </div>
        </div>
        <div class="table-cell dropdown">
          <a href="#" class="nav-mobile-menu dropdown-toggle" data-toggle="dropdown"><span class="icon icon--menu"></span></a>
          <div class="drilldown dropdown-menu" role="menu">
            <div class="drilldown-container">
              <nav class="nav-page-list">
                <ul>
                  <li><a href="#">Drinks</a></li>
                  <!-- add the .list-sub class if the list has some sub-lists -->
                  <li class="list-sub"><a href="#">Mineral water</a>
                    <!-- sub-list element -->
                    <nav class="drilldown-sub">
                      <a href="#" class="icon icon--before icon--less drilldown-back">Back</a>
                      <ul>
                        <li><a href="#">Test</a></li>
                        <li><a href="#">Test2</a></li>
                        <li><a href="#">Test3</a></li>
                      </ul>
                    </nav>
                  </li>
                  <li><a href="#">Wine</a></li>
                  <li><a href="#">Beer</a></li>
                  <li><a href="#">Spirits</a></li>
                </ul>
                <a href="#" class="yamm-close-bottom"><span class="icon icon--top"></span></a>
              </nav>
            </div>
          </div>
        </div>
        <div class="table-cell dropdown">
          <a href="#" class="nav-mobile-menu dropdown-toggle" data-toggle="dropdown"><span class="icon icon--search"></span></a>
          <div class="dropdown-menu" role="menu">
            <form class="form" role="form">
              <input class="form-control" type="text" placeholder="Search">
              <span class="icon icon--search"></span>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Standard menu layout -->
    <!-- The tab navigation -->
    <ul class="nav navbar-nav">
      <li class="dropdown yamm-fw">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">News</a>
        <ul class="dropdown-menu" role="menu">
          <li class="grid-demo">
            <!-- The `yamm-content` can contain any kind of content like tab, table, list, article... -->
            <div class="yamm-content container-fluid">
              <!-- The `yamm-close` should always be inside the `yamm-content` to close the mega-menu -->
              <div class="row">
                <div class="col-sm-12"><a href="#" class="yamm-close icon icon--after icon--close pull-right">Close</a></div>
              </div>
              <div class="row">
                <div class="col-sm-12">.col-sm-12</div>
              </div>
              <div class="row">
                <div class="col-sm-6">.col-sm-6</div>
                <div class="col-sm-6">.col-sm-6</div>
              </div>
              <div class="row">
                <div class="col-sm-4">.col-sm-4</div>
                <div class="col-sm-4">.col-sm-4</div>
                <div class="col-sm-4">.col-sm-4</div>
              </div>
              <div class="row">
                <div class="col-sm-3">.col-sm-3</div>
                <div class="col-sm-3">.col-sm-3</div>
                <div class="col-sm-3">.col-sm-3</div>
                <div class="col-sm-3">.col-sm-3</div>
              </div>
              <div class="row">
                <div class="col-sm-2">.col-sm-2</div>
                <div class="col-sm-2">.col-sm-2</div>
                <div class="col-sm-2">.col-sm-2</div>
                <div class="col-sm-2">.col-sm-2</div>
                <div class="col-sm-2">.col-sm-2</div>
                <div class="col-sm-2">.col-sm-2</div>
              </div>
              <div class="row">
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
                <div class="col-sm-1">.col-sm-1</div>
              </div>

              <!-- The `yamm-close-bottom` should always be at the end of the `yamm-content` to close the mega-menu -->
              <a href="#" class="yamm-close-bottom"><span class="icon icon--top"></span></a>

            </div>
          </li>
        </ul><!-- Dropdown `ul` end -->
      </li>
      <li class="current dropdown yamm-fw">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">News</a>
        <ul class="dropdown-menu" role="menu">
          <!-- The `li` presence heritated from the classic dropdown structure, only one in that case -->
          <li>
            <!-- The `yamm-content` can contain any kind of content like tab, table, list, article... -->
            <div class="yamm-content container-fluid">

              <!-- The `yamm-close` should always be inside the `yamm-content` to close the mega-menu -->
              <div class="row">
                <div class="col-sm-12"><a href="#" class="yamm-close icon icon--after icon--close pull-right">Close</a></div>
              </div>

              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non, quae, ut, numquam tempora facilis mollitia temporibus error dolorem vel ea debitis perspiciatis doloremque necessitatibus dignissimos pariatur minima molestiae aliquid voluptatibus.</p>

              <a href="#" class="yamm-close-bottom"><span class="icon icon--top"></span></a>

            </div><!-- `yamm-content` end -->
          </li><!-- Dropdown `li` end -->
        </ul><!-- Dropdown `ul` end -->
      </li>
      <li class="dropdown yamm-fw">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">News</a>
        <ul class="dropdown-menu" role="menu">
          <!-- The `li` presence heritated from the classic dropdown structure, only one in that case -->
          <li>
            <!-- The `yamm-content` can contain any kind of content like tab, table, list, article... -->
            <div class="yamm-content container-fluid">

              <!-- The `yamm-close` should always be inside the `yamm-content` to close the mega-menu -->
              <div class="row">
                <div class="col-sm-12"><a href="#" class="yamm-close icon icon--after icon--close pull-right">Close</a></div>
              </div>

              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Non, quae, ut, numquam tempora facilis mollitia temporibus error dolorem vel ea debitis perspiciatis doloremque necessitatibus dignissimos pariatur minima molestiae aliquid voluptatibus.</p>

              <a href="#" class="yamm-close-bottom"><span class="icon icon--top"></span></a>

            </div><!-- `yamm-content` end -->
          </li><!-- Dropdown `li` end -->
        </ul><!-- Dropdown `ul` end -->
      </li>
    </ul>
  </nav>

</div>

<br><br><br><br><br><br><br><br><br><br><br><br>
```

*/

.navbar {
  border-radius: 0;
  border: none;
  margin-bottom: 10px;
}

.nav-mobile {
  position: relative;
  z-index: 1; // fix for Android Browser 4.1
  display: table;
  width: 100%;
  background: $white;
  @media only screen and (min-width: $screen-sm-min) {
    display: none;
  }
  &.fixed {
    position: fixed;
    z-index: 100; // fix for Android Browser 4.1
    box-shadow: 0 0 40px 0 fade-out($coal, 0.3);
    top: 0;
    left: 0;
    box-sizing: content-box; // so that the border goes below the box
    border-bottom: 5px solid $venetian-red;
  }
  .nav-mobile-header {
    display: table-cell;
    width: 100%;
    padding: 9px 6px 9px 10px;
  }
  h1 {
    display: table-cell;
    width: auto;
    margin: 0 0 0 6px;
    font-size: 1.5em;
    font-family: $font-family-sans-serif;
    color: $coal;
    display: inline-block;
    @media only screen and (max-width: $screen-xs-max) {
      margin-top: 4px;
      font-size: 1em;
    }
    a {color: inherit;}
  }
  .nav-mobile-logo {
    display: table-cell;
    vertical-align: middle;
    text-align: center;
    height: 100%;
    margin: 0 1em;
    img {
      vertical-align: middle;
      min-width: 24px;
      width: 24px;
    }
  }
  .table-cell {
    border-left: 1px solid $silver;
    display: table-cell;
    & > a {
      vertical-align: middle;
      text-align: center;
      height: 100%;
      padding: 10px 15px;
      color: inherit;
      &:focus, &:hover {
        text-decoration: none;
      }
    }
  }
  .dropdown-menu {
    margin-top: 5px;
    left: 0;
    form {
      padding: 5px 8px;
      input {
        padding-left: 25px;
      }
      .icon {
        position: absolute;
        top: 13px;
        left: 15px;
      }
    }
  }
  .nav-page-list {
    padding-top: 0;
  }
  .open .icon--menu:after,
  .open a > .icon--search:after {
    content: 'x'; // display close icon when dropdown is open
  }
}

.drilldown-container {
  overflow-y: scroll;
}

.nav-main {
  background: #e4e4e4; /* Old browsers */
  background: -moz-linear-gradient(top, #e4e4e4 0%, #e2e2e2 39%, #dddddd 79%, #d5d5d5 91%, #cfcfcf 95%, #bebebe 99%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#e4e4e4), color-stop(39%,#e2e2e2), color-stop(79%,#dddddd), color-stop(91%,#d5d5d5), color-stop(95%,#cfcfcf), color-stop(99%,#bebebe)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* IE10+ */
  background: linear-gradient(to bottom, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* W3C */
  // filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e4e4e4', endColorstr='#bebebe',GradientType=0 ); /* IE6-9 */
  @media only screen and (max-width: $screen-xs-max) {
    background: $white;
    border: none;
    border-bottom: 5px solid $venetian-red;
    position: relative;
    .navbar-nav {display: none;}
  }
  @media only screen and (min-width: $screen-sm-min) {
    min-height: 65px;
    border-top: 5px solid $venetian-red;
    .nav-page-list {display: none;}
  }
}

.nav-main.yamm .nav {
  margin: 0 1.6em;
  border-left: 1px solid $menu-border-dark;
  > li {
    border-right: 1px solid $menu-border-dark;
    border-left: 1px solid $menu-border-light;
    > a {
      height: 70px;
      @include gradient-menu;
      max-width: 140px;
      color: $coal;
      font-size: 0.8em;
      line-height: 1.2;
      padding: 10px 9px;
      &:after {
        content: ',';
        font-family: $admin-icons;
        position: absolute;
        bottom: 4px;
        left: 0;
        width: 100%;
        text-align: center;
        color: $empress;
        font-size: 0.9em;
      }
      &:hover {
        color: $venetian-red;
        background: #dbdbdb;
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2Y0ZjRmNCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9Ijc5JSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjkxJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNkYmRiZGIiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #f4f4f4 0%, #ffffff 10%, #ffffff 79%, #ffffff 91%, #dbdbdb 100%);
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f4f4f4), color-stop(10%,#ffffff), color-stop(79%,#ffffff), color-stop(91%,#ffffff), color-stop(100%,#dbdbdb));
        background: -webkit-linear-gradient(top,  #f4f4f4 0%,#ffffff 10%,#ffffff 79%,#ffffff 91%,#dbdbdb 100%);
        background: -o-linear-gradient(top,  #f4f4f4 0%,#ffffff 10%,#ffffff 79%,#ffffff 91%,#dbdbdb 100%);
        background: -ms-linear-gradient(top,  #f4f4f4 0%,#ffffff 10%,#ffffff 79%,#ffffff 91%,#dbdbdb 100%);
        background: linear-gradient(to bottom,  #f4f4f4 0%,#ffffff 10%,#ffffff 79%,#ffffff 91%,#dbdbdb 100%);
        // filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#f4f4f4',GradientType=0 );
      }
    }
  }
  & + .tab-content {
    padding: 0;
  }
  .dropdown-menu li {
    margin-left: 0;
    &:hover a {border-top: none; padding-bottom: 0;}
  }
  > .open > a {
    z-index: 9999;
    background: $white;
    border-top: 5px solid $red;
    margin-top: -5px;
    height: 75px;
    &:hover {
      background: $white;
    }
    &:after {
      content: ';';
    }
  }
  .ie9 & > .open > a {
    background: $white;
    opacity: 1;
  }
  .dropdown.active > a,
  .dropdown.current > a {
    background: $white;
    border-top: 5px solid $red;
    margin-top: -5px;
    height: 75px;
  }
  .dropdown.current > a {
    z-index: 999;
  }
  .dropdown.active > a,
  .dropdown.current.open > a {
    z-index: 9999;
  }
}

.grid-demo {
  .col-sm-1,
  .col-sm-2,
  .col-sm-3,
  .col-sm-4,
  .col-sm-5,
  .col-sm-6,
  .col-sm-7,
  .col-sm-8,
  .col-sm-9,
  .col-sm-10,
  .col-sm-11,
  .col-sm-12 {
    background: $silver;
    text-align: center;
    margin-bottom: 5px;
    border-right: 1px solid $white;
    border-left: 1px solid $white;
  }
}

/*doc
---
title: Service Navigation
name: b-service-navigation
category: Navigation modules - Header
---

<span class="label label-admin">CD</span>

The service navigation is positioned at the top right of the header next to the language selection. It contains links that are of overriding importance (e.g. Contact, Jobs, Media and Contact). Ideally, there should be three, but in no case should there be more than five links in the service navigation.

On mobile devices the links in the service navigation are moved to the footer.

```html_example
<!-- Use normal `container` instead of `container-fluid` -->
<div class="container-fluid">

  <header>
    <nav class="nav-service">
      <ul>
        <li><a href="#">Emergencies</a></li>
        <li><a href="#">Jobs</a></li>
        <li><a href="#">Media</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
  </header>
  <nav class="nav-main"></nav>

</div>
```

*/

.nav-service {
  display: inline-block;
  float: right;
  @media only screen and (max-width: $screen-xs-max) {
    display: none;
  }
  @media only screen and (max-width: $screen-sm-max) {
    float: left;
  }
  a {
    font-size: 0.85em;
    color: $coal;
    &:hover {color: $venetian-red;}
  }
}

/*doc
---
title: Language Selection via a Link List
name: d-lang-navigation-list
category: Navigation modules - Header
---

<span class="label label-admin">CD</span>

The languages available are shown as links, placed side by side, at the top right of the header. For this purpose their two-digit abbreviations as per ISO 639-2 are used (e.g. German: = DE, French = FR, Italian = IT, Romansh = RM, English = EN, etc.).

The information and services of the Federal Administration in the web are provided in at least the three official Swiss languages German, French, and Italian. Additionally their can be information in Romansh and English.

Other languages are optional and are dependent on the requirements of the individual organizational unit and its target groups.

The following rules apply for the language navigation:

German, Frech and English are mandatory. Therefore the abbrevations DE, FR and IT are always and on each page visible.

The active language is indicated with a light grey background.

Inactive languages are indicated as disabled with a light-grey font colour.

The abbrevations for Romansh (RM) and English (EN) are shown, if their is content in this languages available.

If no content in one of the languages is available or only some, the language link is shown as `disabled. In the navigation, the pages which are not translated can either be omitted or shown as available in the other languages, as in Swiss Embassies (German, French, Italian).

This rules apply for smartphones as well.

On smartphones the language selection is always included in a drawer section above the header. This section is hidden automatically as soon as the user scrolls down. If the user scrolls back all the way to the top, the drawer with the language selection reappears.

The design of the language navigation for cases, where their are more then five langugages, has yet to be specified.

<br>
<div class="alert alert-warning">
  **2.1.0:**

  - wrapped `.nav-lang` and `.nav-service` in `<section class="nav-services clearfix"></section>`
</div>

```html_example
<!-- Use normal `container` instead of `container-fluid` -->
<div class="container-fluid">

  <header>

    <section class="nav-services clearfix">
      <h2>Title of page</h2>
      <nav class="nav-lang">
        <ul>
          <li><a class="active" href="#">DE</a></li>
          <li><a href="#">FR</a></li>
          <li><a href="#">IT</a></li>
          <li><a class="disabled" href="#">RM</a></li>
          <li><a href="#">EN</a></li>
        </ul>
      </nav>
      <nav class="nav-service">
        <ul>
          <li><a href="#">Emergencies</a></li>
          <li><a href="#">Jobs</a></li>
          <li><a href="#">Media</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </section>

  </header>
  <nav class="nav-main"></nav>

</div>
```
*/

.nav-services {
  font-size: 0.85em;
  padding-top: 5px;
  h2 {display: none;}
  @media only screen and (max-width: $screen-sm-max) {
    display: block;
    clear: both;
    margin-bottom: 25px;
  }
  @media only screen and (max-width: $screen-xs-max) {
    padding: 10px;
    margin-bottom: 0;
    background: #e4e4e4; /* Old browsers * navigation.scss */
    background: -moz-linear-gradient(top, #e4e4e4 0%, #e2e2e2 39%, #dddddd 79%, #d5d5d5 91%, #cfcfcf 95%, #bebebe 99%); /* FF3.6+ */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#e4e4e4), color-stop(39%,#e2e2e2), color-stop(79%,#dddddd), color-stop(91%,#d5d5d5), color-stop(95%,#cfcfcf), color-stop(99%,#bebebe)); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(top, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(top, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* Opera 11.10+ */
    background: -ms-linear-gradient(top, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* IE10+ */
    background: linear-gradient(to bottom, #e4e4e4 0%,#e2e2e2 39%,#dddddd 79%,#d5d5d5 91%,#cfcfcf 95%,#bebebe 99%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e4e4e4', endColorstr='#bebebe',GradientType=0 ); /* IE6-9 */
    h2 {
      display: block;
      font-size: 1em;
      margin: 0;
      float: left;
      font-family: $font-family-sans-serif-bold;
    }
  }
}

.nav-lang {
  display: inline-block;
  float: right;
  margin-left: 15px;
  margin-bottom: 15px;
  padding-left: 15px;
  @media only screen and (min-width: $screen-md-min) {
    border-left: 1px solid $gainsboro;
  }
  @media only screen and (max-width: $screen-xs-max) {
    margin-bottom: 0;
  }
  li {
    padding: 0;
    margin: 0;
  }
  a {
    color: $coal;
    padding: 4px;
    &:hover {color: $cerulean;}
    &.active {
      background: $gainsboro;
      @media only screen and (max-width: $screen-xs-max) {
        background: $silver;
      }
    }
    &.disabled {color: $silver;}
    &.disabled:hover {cursor: default;}
  }
}

/*doc
---
title: Treecrumb Federal Administration
name: g-treecrumb-federal-administration
category: Navigation modules - Header
---

<span class="label label-admin">CD</span>

The treecrumb navigation shows the position of the current website within the context of all the websites of the Federal Administration. It also serves as an efficient means of accessing information across departments.

When closed, the treecrumb navigation presents the hierarchical organization of the Federal Administration as a path. When a hierarchical level is clicked on, a menu opens with a collection of links pertinent to the selected hierarchical level.

On smartphones, the treecrumb navigation is omitted.

```html_example
<!-- Use normal `container` instead of `container-fluid` -->
<div class="container-fluid">

  <header>

    <!-- Standard Bootstrap `navbar` structure with the `treecrumb` class -->
    <nav class="navbar treecrumb" role="navigation">
      <ul class="nav navbar-nav">

        <!-- Treecrumb dropdown element -->
        <li class="dropdown">
          <!-- Dropdown label -->
          <a id="admin-dropdown" href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="icon icon--right"></span> Federal Administration</a>
          <!-- Dropdown list element -->
          <ul class="dropdown-menu" role="menu" aria-labelledby="admin-dropdown">
            <!-- Dropdown title, can ben place anywhere in the list -->
            <li class="dropdown-header">Federal Administration admin.ch</li>
            <!-- Dropdown element link -->
            <li><a href="#">BK: Schweizerische Bundeskanzlei</a></li>
            <li><a href="#">EDA: Eidgenössisches Departement für auswärtige Angelegenheiten</a></li>
            <li><a href="#">EDI: Eidgenössisches Department des Innern</a></li>
            <li><a href="#"><strong>EJPD: Eidgenössisches Justiz- und Polizeidepartment</strong></a></li>
            <li><a href="#">VBS: Eidgenössisches Department für Verteidigung, Bevölkerungsschutz und Sport</a></li>
            <li><a href="#">EVD: Eidgenössisches Volkswirtschaftsdepartement</a></li>
            <li><a href="#">UVEK: Eidgenössisches Department für Umwelt, Verkehr, Energie und Kommunikation</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" id="service-dropdown" class="dropdown-toggle" data-toggle="dropdown"><span class="icon icon--right"></span> Departement: EDI</a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="service-dropdown">
            <li class="dropdown-header">Departement: EDI</li>
            <li><a href="#">DEZA: Direktion für Entwicklung und Zusammenarbeit</a></li>
            <li><a href="#">Schweizer Beitrag an die erweiterte EU</a></li>
            <li><a href="#">Integrationsbüros</a></li>
          </ul>
        </li>

      </ul>
    </nav>

  </header>
  <nav class="nav-main"></nav>

</div>
```

*/

.treecrumb {
  @media only screen and (max-width: $screen-xs-max) {
    display: none;
  }
  &.navbar {
    margin-bottom: 15px;
    min-height: 0;
  }
  .dropdown {margin: 0;}
  .nav .open a.dropdown-toggle {
    background: $white;
    border: 1px solid $silver;
    border-left-color: $silver;
    border-bottom: none;
    position: relative;
    z-index: 1001;
  }
  .dropdown-toggle {
    padding: 0 10px;
    line-height: 24px;
    padding-left: 30px;
    font-size: 13px;
    background: transparent;
    color: $coal;
    border: 1px solid $silver;
    border-left-color: transparent;
    position: relative;
    &:hover {
      background: transparent;
      color: $venetian-red;
    }
    &:focus {background: transparent;}
    &:before, &:after {
      content: '';
      display: block;
      position: absolute;
      top: -1px;
      right: -2.1em;
      width: 0;
      height: 0;
      border-color: transparent transparent transparent $silver;
      border-style: solid;
      border-width: 1.05em;
    }
    &:after {
      right: -2em;
      border-color: transparent transparent transparent $white;
    }
    span {
      margin-right: 1em;
    }
  }
  .dropdown:first-child .dropdown-toggle {
    border-left-color: $silver;
    padding-left: 10px;
  }
  .nav .dropdown.open:first-child a.dropdown-toggle {
    border-left-color: $silver;
  }
  .dropdown-menu {
    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.1);
    border-radius: 0;
    top: 97%;
    padding-left: 1em;
    padding-right: 1em;
    li {display: inline-block;}
    a {
      padding: 5px 15px;
      color: $empress;
      font-size: 13px;
      &:hover {
        background: $white;
        color: $venetian-red;
      }
    }
  }
  .dropdown-header {
    display: block;
    width: 100%;
    font-size: 13px;
    color: $coal;
    font-weight: bold;
    padding: 10px 5px;
  }
  @media only screen and (max-width: $screen-sm) {
    display: none;
    .nav li {display: inline;}
    .dropdown-toggle {
      border-left-color: $silver;
      padding-left: 10px;
    }
    .dropdown-menu, .open .dropdown-menu {
      border: 1px solid $silver;
      overflow: hidden;
      li {display: inline-block;}
    }
  }
}


/*doc
---
title: Page Navigation List (Left Sidebar Navigation)
name: d-page-nav-list
category: Navigation modules - Hierarchical Navigation
---

<span class="label label-admin">FIX</span>

The sub-navigation on the left sidebar of the content section is a so-called dynamic navigation. It always only shows the page that has currently been selected and the navigation options that page has to offer:

* Navigation header: the name of the active page has a color bar and is highlighted typographically
* “Back” link: above the navigation header, there is a link leading back to the previous navigation level
* Sub-pages: below the navigation header, all of the lower navigation levels are listed as links
* Sister pages: pages located on the same navigation level as the active page are not listed here. They are accessed via the global navigation or the “back” link. Only on the lowest navigation level, where there are no other sub-pages, are sister pages shown – if there are any.

## Behavior

If a link to a sub-page is clicked on, a new page is loaded. On this page, the selected page is shown as the navigation header. The “back” link leads to the navigation level above, i.e. to the page on which the user has just been. Below the navigation header there are links to the lower navigation levels.

If a page on the same navigation level as the active page (a sister page) is to be accessed, this is either done via back-linking to the page above or via the global navigation.

If a page on the lowest navigation level is clicked on (i.e. the selected page has no sub-pages), the navigation is not replaced. Instead, the page currently selected is marked with a red line and the other pages on the same level (sister pages) remain visible.

![example](styleguide-img/navigation_supermarkt.png)

As long as a page has sub-pages, the navigation head changes dynamically during the navigation (drilling down) process (Step 1). When the lowest level of the navigation tree has been reached, and the pages no longer have sub-pages, only the display changes (Step 2).

## Implementation for Smartphones

On smartphones, the navigation is shown at the end of the page above the footer The name of the active page is hidden.

![Left nav on mobile](styleguide-img/mobile_navi_3.png)

Navigation below the content level on a smartphone with links to the home page, the navigation level above, and to further pages.

<br>
<div class="alert alert-warning">
  **2.1.0:**

  - added the optional `.list-emphasis` class to the first `<li>` element. Put it if you need a bolder and darker element in the list.
  - if you want the drilldown behaviour, embed the `.nav-page-list` element in `<div class="drilldown"><div class="drilldown-container"></div></div>` and add some `<nav class="drilldown-sub"></nav>` elements in any `<li>` you want. Add the `.list-sub` class to the `<li>` element too.
</div>

```html_example
<div class="container-fluid">
  <div class="row">

    <!-- these `.drilldown` container classes are used only if you want the drilldown behaviour (if you have sub-lists) -->
    <div class="col-sm-4 drilldown">
      <div class="drilldown-container">

        <nav class="nav-page-list">
          <a href="#" class="icon icon--before icon--less">Comestible Goods</a>
          <ul>
            <!-- the .list-emphasis class is optionnal -->
            <li class="list-emphasis"><a href="#">Drinks</a></li>
            <!-- add the .list-sub class if the list has some sub-lists -->
            <li class="list-sub"><a href="#">Mineral water</a>
              <!-- sub-list element -->
              <nav class="drilldown-sub">
                <a href="#" class="icon icon--before icon--less drilldown-back">Back</a>
                <ul>
                  <li><a href="#">Test</a></li>
                  <li><a href="#">Test2</a></li>
                  <li><a href="#">Test3</a></li>
                </ul>
              </nav>
            </li>
            <li class="active"><a href="#">Wine</a></li>
            <li><a href="#">Beer</a></li>
            <li><a href="#">Spirits</a></li>
          </ul>
        </nav>

      </div>
    </div>

  </div>
</div>
```
*/

.nav-page-list {
  a {
    display: block;
    width: 100%;
  }
  .icon--less {
    background: $smoke;
    color: $black;
    padding: 0px 10px 5px 10px;
    font-size: 11px;
    border-bottom: 1px solid $silver;
    &:before {
      font-size: 20px;
      position: relative;
      top: 5px;
      left: -3px;
    }
    &:hover, &:hover:before {
      color: $venetian-red;
    }
    &:hover:before {background: none;}
  }
  li {
    display: block;
    margin: 0;
  }
  li.active a {color: $black;}
  @media only screen and (min-width: $screen-sm-min) {
    li.list-emphasis a {
      color: $black;
      font-weight: bold;
      border-color: $coal;
    }
  }
  .list-sub {
    position: relative;
    &:after {
      font-family: $admin-icons;
      content: '>';
      padding-right: 5px;
      position: absolute;
      top: 10px;
      right: 5px;
    }
  }
  li a, ul ul li:first-child a {
    color: $empress;
    border-bottom: 1px solid $silver;
    padding: 10px 0;
    @media only screen and (max-width: $screen-xs-max) {
      padding: 10px;
    }
    position: relative;
    font-weight: normal;
    &:active {color: $black;}
    &:before {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      bottom: 0;
      left: -15px;
      width: 5px;
    }
  }
  li.active a:before, li a:hover:before {background: $venetian-red;}
  .nav-mobile & {
    padding-bottom: 40px;
  }
}

.drilldown {
  overflow: hidden;
  .drilldown-sub {
    display: none;
  }
  &.dropdown-menu {
    padding-top: 0;
  }
}


/*doc
---
title: Faceted Page Navigation
name: e-facete-page-nav
category: Navigation modules - Hierarchical Navigation
---

<span class="label label-admin">FLEX</span>

Faceted navigation serves the purpose of filtering elements (e.g. in a product catalog) on the basis of predefined criteria, so-called facets. These facets are grouped by facet types. A facet which contains subfacets is marked with a triangle.

## Behavior:

After a page with faceted navigation has been loaded, a list containing the facets of the highest level of facet types remains open. The user can open or close any number of other facet types.

For every facet type, the user can only open one facet; the other facets are hidden. The selected facet type can then no longer be closed.

If a facet has subfacets, these subfacets are shown after the facet has been selected. The user can then further limit the selection with the help of the subfacets. A selection can be undone with a delete button.

The contents of the page are adapted to show the selection made in the faceted navigation, and are constantly updated.

## Implementation for Smartphones:

On smartphones, the navigation is accessed via a filter link, and it behaves in the same way as the faceted navigation for desktop computers. Unlike in the desktop version, the contents of the page are only updated when the user closes the faceted navigation.

```html_example
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-4">

      <nav class="nav-page-list nav-page-list--facette">
        <a href="#" class="icon icon--before icon--less">Home page swisstopo</a>
        <ul>
          <li class="active"><a href="#">Products <span class="badge">4245</span></a></li>
          <li>
            <button class="icon icon--before icon--greater" data-toggle="collapse" data-target="#geodata">Geodata</button>
            <ul id="geodata" class="collapse in">
              <li>
                <button class="icon icon--before icon--greater" data-toggle="collapse" data-target="#images">Images <span class="badge">1285</span></button>
                <ul id="images" class="collapse in">
                  <li class="active"><a href="#">Aerial image</a>  <button type="button" class="close">&times;</button></li>
                </ul>
              </li>
              <li><a href="#">Landscape models</a> <span class="badge">245</span></li>
              <li><a href="#">Elevation models</a> <span class="badge">45</span></li>
              <li><a href="#">Map data</a> <span class="badge">27</span></li>
              <li><a href="#">Geological models</a> <span class="badge">238</span></li>
            </ul>
          </li>
          <li>
            <button class="icon icon--before icon--greater" data-toggle="collapse" data-target="#content-1">Use</button>
            <ul id="content-1" class="collapse">
              <li><a href="">Some content <span class="badge">12</span></a></li>
              <li><a href="">Some content <span class="badge">56</span></a></li>
              <li><a href="">Some content <span class="badge">89</span></a></li>
            </ul>
          </li>
          <li>
            <button class="icon icon--before icon--greater" data-toggle="collapse" data-target="#content-2">Online Services & Software</button>
            <ul id="content-2" class="collapse">
              <li><a href="">Some content <span class="badge">358</span></a></li>
              <li><a href="">Some content <span class="badge">658</span></a></li>
              <li><a href="">Some content <span class="badge">74</span></a></li>
            </ul>
          </li>
          <li>
            <button class="icon icon--before icon--greater" data-toggle="collapse" data-target="#content-3">Publications & Tools</button>
            <ul id="content-3" class="collapse">
              <li><a href="">Some content <span class="badge">52</span></a></li>
              <li><a href="">Some content <span class="badge">8961</span></a></li>
              <li><a href="">Some content <span class="badge">462</span></a></li>
            </ul>
          </li>
          <li>
            <button class="icon icon--before icon--greater" data-toggle="collapse" data-target="#content-4">Themes</button>
            <ul id="content-4" class="collapse">
              <li><a href="">Some content <span class="badge">596</span></a></li>
              <li><a href="">Some content <span class="badge">45</span></a></li>
              <li><a href="">Some content <span class="badge">85</span></a></li>
            </ul>
          </li>
        </ul>
      </nav>

    </div>
  </div>
</div>
```
*/


.nav-page-list--facette {
  button {
    background: $white;
    border: none;
    width: 100%;
    text-align: left;
    border: 1px solid $silver;
    margin-left: 0px;
    padding: 10px;
    margin-top: 5px;
    &:focus {
      outline: 0;
    }
    &.active {background: $smoke;}
  }
  ul li:first-child a {
    border-bottom: none;
  }
  .collapse.in {
    margin-left: 0;
  }
  ul ul {
    border: 1px solid $silver;
    border-top: none;
    border-bottom: none;
    margin-left: 0px;
    width: 100%;
    a {
      margin: 0;
      padding: 10px 20px;
      &:before {
        left: 0px;
      }
    }
    button {
      margin-left: 0;
      padding-left: 20px;
      border: none;
      border-bottom: 1px solid $silver;
      margin-top: 0;
    }
    li .badge {right: 10px;}
    li:first-child a {
      margin-left: 0;
      padding-left: 20px;
    }
  }
  ul ul ul {
    border: none;
    border-bottom: 1px solid $silver;
    margin-left: 0;
  }
  li {
    position: relative;
    .badge {
      display: block;
      position: absolute;
      right: 0px;
      top: 10px;
      background: $light-grey;
      color: $empress;
      font-weight: normal;
      font-size: 15px;
      border-radius: 3px;
    }
    .close {
      display: inline-block;
      padding-left: 0;
      text-decoration: none;
      border: none;
      max-width: 20px;
      position: absolute;
      right: 10px;
      top: 0px;
    }
  }
  ul ul li.active {
    a {
      border: none;
      padding: 10px 20px;
      margin-left: 20px;
    }
    a:before {
      background: $venetian-red;
      left: -20px;
    }
  }
}
