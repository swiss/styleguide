/* ==========================================================
 * progression.scss
 * Progession navigation styles
 *
 * Author: Yann, yann@antistatique.net
 * Date:   2014-05-13 09:14:02
 *
 * Copyright 2014 Federal Chancellery of Switzerland
 * Licensed under MIT
 ========================================================== */

@charset "UTF-8";

/*doc
---
title: Process navigation
name: c-process-navigation
category: Navigation modules - Content Navigation
---

<span class="label label-admin">FLEX</span>

Process navigation is used in connection with forms that are spread over several pages. The active process stage is marked in red. The previous steps are clickable and lead the user back to the selected process stage.

```html_example
<nav class="nav-process nav-process-steps-4"> 
<!--  Adjust the classname 'nav-process-steps-4' to the number of pages you have (2 to 10). -->
  <ul>
    <li>
      <a href="#">Step 1</a>
    </li>
    <li>
      <a href="#">Step 2</a>
    </li>
    <li class="active">
      <a href="#">Step 3</a>
    </li>
    <li class="disabled">
      <a href="#" disabled>Step 4</a>
    </li>
  </ul>
</nav>
```
*/

.nav-process {
  width: 100%;
  height: 30px;
  ul {
    padding: 0;
    margin: 0;
  }
  li {
    display: block;
    height: 6px;
    width: 24.2%; // only for backwards compatibility
    float: left;
    background: $light-grey;
    margin: 0 0.5%;
    text-align: center;
    font-size: 13px;
    line-height: 35px;
    position: relative;
  }
  li a {
    margin-top: -0.3em; // negative margin to extend the clickable area to the decorative bar
    padding-top: 1.1em;
    width: 100%;
    display: block;
    color: $black;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow-x: hidden;
  }
  li.active, li:hover, li:focus {
    background: $venetian-red;
    font-weight: 700;
  }
  li.disabled:hover {
    background: $light-grey;
  }
  li.disabled a:hover, li.disabled a:active, li.disabled a:focus {
    cursor: not-allowed;
    text-decoration: none;
  }
  li:first-child {margin-left: 0;}
  li:last-child {margin-right: 0;}
  li:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 0;
    height: 0;
    border-top: 3px solid transparent;
    border-left: 3px solid $white;
    border-bottom: 3px solid transparent;
  }
  li:first-child:before {display: none;}
  li:after {
    content: '';
    position: absolute;
    right: -3px;
    top: 0;
    width: 0;
    height: 0;
    border-top: 3px solid transparent;
    border-left: 3px solid $light-grey;
    border-bottom: 3px solid transparent;
  }
  li.active:after, li:hover:after {border-left-color: $venetian-red;}
  li.disabled:hover:after {border-left-color: $light-grey;}
  li:last-child:after {display: none;}
  li.active {
    position: relative;
    left: -0.2%;
    margin-top: -2px;
    height: 10px;
    padding-top: 2px;
  }
  li.active:after {
    border-width: 5px;
    right: -5px;
  }
  li.active:before {
    border-width: 5px;
  }
  // create the widths for different amounts of steps
  @for $i from 2 through 10 {
    &.nav-process-steps-#{$i} li {
      width: ((100% - 1% * ($i - 1)) / $i) // For each step there is a -1% margin, minus one, because no margins on the far left and on the far right
    }
  } 
}